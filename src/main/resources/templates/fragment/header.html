<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>병의's 쇼핑몰</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
          crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            margin: 0;
            background-color: #f5f7fa;
            color: #2c3e50;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem 2rem;
            background-color: #34495e;
            color: #fff;
            user-select: none;
        }

        nav {
            padding: 1rem 2rem;
            background-color: #d0e6ff;
            border-bottom: 1px solid #ccd6dd;
        }

        nav a {
            margin-right: 1rem;
            text-decoration: none;
            color: #34495e;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        nav a:hover {
            color: #e67e22;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 1rem;
            font-size: 0.9rem;
        }

        .user-info a,
        .user-info button {
            color: #ffffff;
            background: none;
            border: none;
            cursor: pointer;
            font: inherit;
            text-decoration: none;
            padding: 0;
        }

        .user-info a:hover,
        .user-info button:hover {
            text-decoration: underline;
        }

        form {
            margin: 0;
        }

        @media (max-width: 600px) {
            header {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.5rem;
            }

            nav {
                padding-left: 1rem;
                padding-right: 1rem;
            }

            nav a {
                margin-right: 1rem;
                font-size: 0.9rem;
            }

            .user-info {
                font-size: 0.9rem;
                gap: 0.7rem;
            }
        }
    </style>
</head>
<body>
<div th:fragment="header">
    <header>
        <h2 style="margin:0; cursor:pointer;" th:onclick="|window.location.href='/'|">
            <i class="fa-solid fa-store"></i> 병의's 쇼핑몰
        </h2>
        <div class="user-info">
            <div th:if="${#authorization.expression('isAuthenticated()')}">
                <a th:href="@{/members/profile}">
                    <i class="fa-solid fa-user"></i>
                    <span th:text="${#authentication.name} + '님'"></span>
                </a>
                <form th:action="@{/logout}" method="post" style="display:inline;">
                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
                    <button type="submit" title="로그아웃">
                        <i class="fa-solid fa-right-from-bracket"></i> 로그아웃
                    </button>
                </form>
            </div>
            <div th:if="${!#authorization.expression('isAuthenticated()')}">
                <a th:href="@{/login}" title="로그인">
                    <i class="fa-solid fa-right-to-bracket"></i> 로그인
                </a>
            </div>
        </div>
    </header>

    <nav>
        <a href="/items"><i class="fa-solid fa-house"></i> Home</a>
        <a href="/user/cart"><i class="fa-solid fa-cart-shopping"></i> 장바구니</a>
        <a href="/user/wishList"><i class="fa-solid fa-heart"></i> 찜 목록</a>
        <a href="/orders/myOrder"><i class="fa-solid fa-book"></i> 주문 내역</a>
        <a href="/board?category=NOTICE"><i class="fa-solid fa-comments"></i> 게시판</a>
    </nav>
</div>
</body>
</html>
